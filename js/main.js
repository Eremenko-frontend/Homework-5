function writeTaskList(){var e="",t=document.createElement("input");t.type="checkbox",t.className="task__one-item-checkbox",t.value=0;var a=document.createElement("span");a.className="task__text-part-item";var s=document.createElement("li");s.appendChild(t);for(var o in myListTask)!0===myListTask[o].itemStatus?s.className="task__one-item task__one-item--complete":s.className="task__one-item";e+=myListTask[o].itemTask,a.appendChild(document.createTextNode(e)),s.appendChild(a);document.getElementById("task__list").appendChild(s)}function writeTaskListLocalStorage(){var e="",t=document.createElement("input");t.type="checkbox",t.className="task__one-item-checkbox",t.value=0;var a=document.createElement("span");a.className="task__text-part-item";var s=document.createElement("li");s.appendChild(t),!0===myListTask[key].itemStatus?s.className="task__one-item task__one-item--complete":s.className="task__one-item",e+=myListTask[key].itemTask,a.appendChild(document.createTextNode(e)),s.appendChild(a);document.getElementById("task__list").appendChild(s)}var myListTask=[];if(void 0!=localStorage.getItem("todoTaskList"))for(var lengthmyListTask=(myListTask=JSON.parse(localStorage.getItem("todoTaskList"))).length,key=0;key<lengthmyListTask;key++)writeTaskListLocalStorage();var whatsupktaskWriteB=document.getElementById("taskWriteButton");whatsupktaskWriteB.onclick=function(){var e=document.getElementById("task__write-input").value,t={};t.itemTask=e,t.itemStatus=!1,myListTask[myListTask.length]=t,console.log(myListTask),writeTaskList(),localStorage.setItem("todoTaskList",JSON.stringify(myListTask))};var taskDeleteB=document.getElementById("taskDeleteButton");taskDeleteB.onclick=function(){for(var e=document.getElementsByClassName("task__one-item-checkbox"),t=0;t<e.length;t++)if(e[t].checked){e[t].parentNode.remove(),(myListTask=JSON.parse(localStorage.getItem("todoTaskList"))).splice(t,1),localStorage.setItem("todoTaskList",JSON.stringify(myListTask))}};var markCompletedTaskB=document.getElementById("markCompletedTask");markCompletedTaskB.onclick=function(){for(var e=document.getElementsByClassName("task__one-item-checkbox"),t=0;t<e.length;t++)if(e[t].checked){e[t].parentNode.classList.add("task__one-item--complete"),(myListTask=JSON.parse(localStorage.getItem("todoTaskList")))[t].itemStatus=!0,localStorage.setItem("todoTaskList",JSON.stringify(myListTask))}};var removeMarkCompletedTaskB=document.getElementById("markNotCompletedTask");removeMarkCompletedTaskB.onclick=function(){for(var e=document.getElementsByClassName("task__one-item-checkbox"),t=0;t<e.length;t++)if(e[t].checked){e[t].parentNode.classList.remove("task__one-item--complete"),(myListTask=JSON.parse(localStorage.getItem("todoTaskList")))[t].itemStatus=!1,localStorage.setItem("todoTaskList",JSON.stringify(myListTask))}};var numberSelectedTask=0,blockTaskNumberSelected=document.getElementById("task__number-selected");document.addEventListener("change",function(e){var t=e.target;t.value;return t.checked?numberSelectedTask+=1:numberSelectedTask-=1,console.log(numberSelectedTask),blockTaskNumberSelected.innerHTML=numberSelectedTask,numberSelectedTask},!1),blockTaskNumberSelected.innerHTML=numberSelectedTask;var clearListTaskB=document.getElementById("clearListTask");clearListTaskB.onclick=function(){localStorage.clear()};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsicGFyZW50QWN0aXZl0KFoZWNrYm94IiwibXlMaXN0VGFzayIsInNlbGVjdGlvbtChaGVja2JveFRhc2siLCJjcmVhdGVFbGVtZW50IiwiY2hlY2tib3giLCJKU09OIiwibG9jYWxTdG9yYWdlIiwiaSIsIml0ZW1TdGF0dXMiLCJjaGVja2VkIiwibnVtYmVyU2VsZWN0ZWRUYXNrIiwiZHluYW1pVGV4dFNwYW4iLCJjbGFzc05hbWUiLCJkeW5hbWlUYWciLCJkb2N1bWVudCIsImFwcGVuZENoaWxkIiwia2V5Iiwic3RyaW5nV3JpdGVUYXNrIiwiaXRlbVRhc2siLCJjcmVhdGVUZXh0Tm9kZSIsImdldEVsZW1lbnRCeUlkIiwid3JpdGVUYXNrTGlzdExvY2FsU3RvcmFnZSIsInR5cGUiLCJ2YWx1ZSIsIml0ZW1PYmplY3RUYXNrIiwiY29uc29sZSIsImxlbmd0aCIsInBhcnNlIiwiZ2V0SXRlbSIsIndyaXRlVGFza0xpc3QiLCJsZW5ndGhteUxpc3RUYXNrIiwidGFza0R5bmFtaWNMaXN0IiwidGV4dCIsInN0cmluZ2lmeSIsInRhc2tEZWxldGVCIiwib25jbGljayIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwic3BsaWNlIiwic2V0SXRlbSIsIm1hcmtDb21wbGV0ZWRUYXNrQiIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZU1hcmtDb21wbGV0ZWRUYXNrQiIsImJsb2NrVGFza051bWJlclNlbGVjdGVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsImVsIiwidGFyZ2V0IiwibG9nIiwiaW5uZXJIVE1MIiwiY2xlYXJMaXN0VGFza0IiLCJjbGVhciJdLCJtYXBwaW5ncyI6IkFBZ0tNLFNBQUlBLGdCQU1KQyxJQUFBQSxFQUFBLEdBc0JFQyxFQUFBQSxTQUFBQyxjQUFtQyxTQUVyQ0MsRUFBSUosS0FBQUEsV0FJSkMsRUFBYUksVUFBV0MsMEJBRXhCTCxFQUFXTSxNQUFHQyxFQTBC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QXNCSyxHQUFHRSxRQUFTLENBRVRQLEVBQXNCSyxHQUFHOEIsV0FFL0JLLFVBQVVKLE9BQU8sNkJBRXRDckMsV0FBYUksS0FBS3NCLE1BQU1yQixhQUFhc0IsUUFBUSxrQkFFbENyQixHQUFHQyxZQUFhLEVBRTNCRixhQUFha0MsUUFBUSxlQUFnQm5DLEtBQUs0QixVQUFVaEMsZUFZMUQsSUFBSVMsbUJBQXFCLEVBRXJCbUMsd0JBQTBCL0IsU0FBU00sZUFBZSx5QkFJcEROLFNBQVNnQyxpQkFBaUIsU0FBVSxTQUFVQyxHQUU1QyxJQUFJQyxFQUFLRCxFQUFJRSxPQUVIRCxFQUFHekIsTUFZYixPQVZJeUIsRUFBR3ZDLFFBQ0xDLG9CQUEwQyxFQUUxQ0Esb0JBQTBDLEVBRzVDZSxRQUFReUIsSUFBSXhDLG9CQUVabUMsd0JBQXdCTSxVQUFZekMsbUJBRTdCQSxxQkFFTixHQU1MbUMsd0JBQXdCTSxVQUFZekMsbUJBSXBDLElBQUkwQyxlQUFpQnRDLFNBQVNNLGVBQWUsaUJBRTdDZ0MsZUFBZWpCLFFBQVUsV0FFdkI3QixhQUFhK0MiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEhvbWV3b3JrIDU6IFRhc2sgKi9cblxudmFyIG15TGlzdFRhc2sgPSBbXTtcblxuaWYgKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb1Rhc2tMaXN0JykgIT0gdW5kZWZpbmVkICl7XG5cbiAgbXlMaXN0VGFzayA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9UYXNrTGlzdCcpICk7XG5cbiAgdmFyIGxlbmd0aG15TGlzdFRhc2sgPSBteUxpc3RUYXNrLmxlbmd0aDtcblxuICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBsZW5ndGhteUxpc3RUYXNrOyBrZXkrKykge1xuICAgIHdyaXRlVGFza0xpc3RMb2NhbFN0b3JhZ2UoKTtcbiAgfVxuXG59XG5cbnZhciB3aGF0c3Vwa3Rhc2tXcml0ZUIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza1dyaXRlQnV0dG9uJyk7XG5cbndoYXRzdXBrdGFza1dyaXRlQi5vbmNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFza19fd3JpdGUtaW5wdXQnKS52YWx1ZTsvL2dldHMgdGhlIHZhbHVlIGZyb20gdGhlIGlucHV0IGZpZWxkXG5cbiAgdmFyIGl0ZW1PYmplY3RUYXNrID0ge307Ly9jcmVhdGVzIGEgdGVtcG9yYXJ5IG9iamVjdCBmb3IgdGVtcG9yYXJ5IHN0b3JhZ2Ugb2YgZGF0YVxuXG4gIGl0ZW1PYmplY3RUYXNrLml0ZW1UYXNrID0gdGV4dDsvL2luc2VydHMgdGhlIHJlY2VpdmVkIHRleHQgZnJvbSB0aGUgaW5wdXQgZmllbGQgaW50byBhIHRlbXBvcmFyeSBvYmplY3RcblxuICBpdGVtT2JqZWN0VGFzay5pdGVtU3RhdHVzID0gZmFsc2U7Ly9pbnNlcnRzIHRoZSBpbml0aWFsIGZhbHNlIHN0YXR1cyBpbnRvIGEgdGVtcG9yYXJ5IG9iamVjdFxuXG4gIG15TGlzdFRhc2tbbXlMaXN0VGFzay5sZW5ndGhdID0gaXRlbU9iamVjdFRhc2s7XG5cbiAgY29uc29sZS5sb2cobXlMaXN0VGFzayk7XG5cbiAgd3JpdGVUYXNrTGlzdCgpOy8vc3VwcHJlc3NlcyB0aGUgZnVuY3Rpb24gb2YgZ2VuZXJhdGluZyBhIGxpc3QgaXRlbSBhbmQgd3JpdGluZyB0aGVtIHRvIGEgbGlzdFxuXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvVGFza0xpc3QnLCBKU09OLnN0cmluZ2lmeShteUxpc3RUYXNrKSk7Ly93cml0ZSB0aGVzZSBmaWxlcyBpbiBteUxpc3RUYXNrIGluIGxvY2FsU3RvcmFnZSB1bmRlciB0aGUgdG9kb1Rhc2tMaXN0IGh1YiBiZWZvcmUgY29udmVydGluZyBkYXRhIHRvIGEgc3RyaW5nLlxuXG59O1xuXG4vKiB3cml0ZSBmdW5jdGlvbiB0byB0YXNrIGxpc3QgKi9cblxuZnVuY3Rpb24gd3JpdGVUYXNrTGlzdCAoKSB7XG5cbiAgdmFyIHN0cmluZ1dyaXRlVGFzayA9ICcnOy8vdGhlIHZhcmlhYmxlIGluIHdoaWNoIHRoZSBlbXB0eSBzdHJpbmcgaXMgYXNzaWduZWQgdG8gd2hpY2ggdGhlIHRleHQgd2lsbCBiZSBhZGRlZFxuXG4gIC8qINCh0KLQktCe0KDQrtCuIGNoZWNrYm94ICovXG4gIHZhciBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7Ly90aGUgY2hhbmdlIHdoaWNoIGlzIGFzc2lnbmVkIGFuIGVtcHR5IHN0cmluZyB3aGljaCBpcyBhc3NpZ25lZCBhIGNoZWNrYm94IHRvIHdoaWNoIGZ1cnRoZXIgdGV4dCB3aWxsIGJlIGFkZGVkXG4gIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gIGNoZWNrYm94LmNsYXNzTmFtZSA9ICd0YXNrX19vbmUtaXRlbS1jaGVja2JveCc7XG4gIGNoZWNrYm94LnZhbHVlID0gMDsvL2dpdmVzIHRoZSB2YWx1ZSBvZiB0aGlzIGVsZW1lbnQgMCBtZWFucyB0aGF0IHRoZSB0YXNrIGhhcyBub3QgeWV0IGJlZW4gY29tcGxldGVkXG5cbiAgLyog0KHQotCS0J7QoNCu0K4gc3BhbiAqL1xuICB2YXIgZHluYW1pVGV4dFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7Ly9jcmVhdGVzIGEgc3BhbiB0YWdcbiAgZHluYW1pVGV4dFNwYW4uY2xhc3NOYW1lID0gXCJ0YXNrX190ZXh0LXBhcnQtaXRlbVwiOy8vZ2l2ZXMgYSBjbGFzcyBvZiB0YWcgdGhhdCBJIGNyZWF0ZWQgZWFybGllclxuXG4gIHZhciBkeW5hbWlUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOy8vY3JlYXRlcyB0YWcgbGlcblxuICBkeW5hbWlUYWcuYXBwZW5kQ2hpbGQoY2hlY2tib3gpOy8vaW5zZXJ0cyBpbnRvIHRoZSBvbmx5IGNyZWF0ZWQgbGkgcHJldmlvdXNseSBjcmVhdGVkIGNoZWNrYm94XG5cbiAgZm9yICh2YXIga2V5IGluIG15TGlzdFRhc2spIHtcblxuICAgIGlmIChteUxpc3RUYXNrW2tleV0uaXRlbVN0YXR1cyA9PT0gdHJ1ZSkge1xuICAgICAgZHluYW1pVGFnLmNsYXNzTmFtZSA9IFwidGFza19fb25lLWl0ZW0gdGFza19fb25lLWl0ZW0tLWNvbXBsZXRlXCI7Ly9naXZlcyBhIGNsYXNzIG9mIHRhZyB0aGF0IEkgY3JlYXRlZCBlYXJsaWVyXG4gICAgfSBlbHNlIHtcbiAgICAgIGR5bmFtaVRhZy5jbGFzc05hbWUgPSBcInRhc2tfX29uZS1pdGVtXCI7Ly9naXZlcyBhIGNsYXNzIG9mIHRhZyB0aGF0IEkgY3JlYXRlZCBlYXJsaWVyXG4gICAgfVxuXG4gIH1cblxuICBzdHJpbmdXcml0ZVRhc2sgPSBzdHJpbmdXcml0ZVRhc2sgKyBteUxpc3RUYXNrW2tleV0uaXRlbVRhc2s7Ly9pcyBhc3NpZ25lZCB0aGUgdGFzayB0ZXh0IGZyb20gdGhlIGFycmF5IG9mIG5lc3RlZCBvYmplY3RzIGluIHRoZSBteUxpc3RUYXNrIGFycmF5XG5cbiAgZHluYW1pVGV4dFNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyaW5nV3JpdGVUYXNrKSk7Ly9pbnNlcnRzIHRleHQgZnJvbSBpbnB1dCB0byBzcGFuXG5cbiAgZHluYW1pVGFnLmFwcGVuZENoaWxkKGR5bmFtaVRleHRTcGFuKTtcblxuICB2YXIgdGFza0R5bmFtaWNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tfX2xpc3QnKTsvL2ZpbmRzIGEgcGxhY2Ugd2hlcmUgaXQgd2lsbCBiZSBuZWNlc3NhcnkgaW4gdGhlIGZ1dHVyZSB0byBkZWR1Y2UgdGFza3NcblxuICB0YXNrRHluYW1pY0xpc3QuYXBwZW5kQ2hpbGQoZHluYW1pVGFnKTsvL2Rpc3BsYXlzIHRhc2tzIGluIHRoZSB0YXNrIGxpc3Qgb24gcGFnZXNcblxufVxuXG4vKiBUaGUgZm9sbG93aW5nIGZ1bmN0aW9uIGlzIGludGVuZGVkIHRvIG91dHB1dCB0YXNrcyBhZnRlciByZWxvYWRpbmcgdGhlIHBhZ2UgKi9cblxuZnVuY3Rpb24gd3JpdGVUYXNrTGlzdExvY2FsU3RvcmFnZSAoKSB7XG5cbiAgdmFyIHN0cmluZ1dyaXRlVGFzayA9ICcnOy8vdmFyaWFibGUgaW4gd2hpY2ggdGhlIGVtcHR5IHN0cmluZyBpcyBhc3NpZ25lZCB0byB3aGljaCB0aGUgdGV4dCB3aWxsIGJlIGFkZGVkXG5cbiAgLyogY3RlYXRlIGNoZWNrYm94ICovXG4gIHZhciBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7Ly90aGUgY2hhbmdlIHdoaWNoIGlzIGFzc2lnbmVkIGFuIGVtcHR5IHN0cmluZyB3aGljaCBpcyBhc3NpZ25lZCBhIGNoZWNrYm94IHRvIHdoaWNoIGZ1cnRoZXIgdGV4dCB3aWxsIGJlIGFkZGVkXG5cbiAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcblxuICBjaGVja2JveC5jbGFzc05hbWUgPSAndGFza19fb25lLWl0ZW0tY2hlY2tib3gnO1xuXG4gIGNoZWNrYm94LnZhbHVlID0gMDsvL2dpdmVzIHRoZSB2YWx1ZSBvZiB0aGlzIGVsZW1lbnQgMCAtIG1lYW5zIHRoYXQgdGhlIHRhc2sgaGFzIG5vdCB5ZXQgYmVlbiBjb21wbGV0ZWRcblxuICAvKiBjcmVhdGUgc3BhbiAqL1xuICB2YXIgZHluYW1pVGV4dFNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7Ly8vL2NyZWF0ZSBzcGFuXG4gIGR5bmFtaVRleHRTcGFuLmNsYXNzTmFtZSA9IFwidGFza19fdGV4dC1wYXJ0LWl0ZW1cIjsvL2dpdmVzIGEgY2xhc3Mgb2YgdGFnIHRoYXQgSSBjcmVhdGVkIGVhcmxpZXJcblxuICB2YXIgZHluYW1pVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsvL2NyZWF0ZSB0YWcgbGlcbiAgZHluYW1pVGFnLmFwcGVuZENoaWxkKGNoZWNrYm94KTsvL2luc2VydHMgaW50byB0aGUgb25seSBjcmVhdGVkIGxpIHByZXZpb3VzbHkgY3JlYXRlZCBjaGVja2JveFxuXG4gIGlmIChteUxpc3RUYXNrW2tleV0uaXRlbVN0YXR1cyA9PT0gdHJ1ZSkge1xuICAgIGR5bmFtaVRhZy5jbGFzc05hbWUgPSBcInRhc2tfX29uZS1pdGVtIHRhc2tfX29uZS1pdGVtLS1jb21wbGV0ZVwiOy8vZ2l2ZXMgYSBjbGFzcyBvZiB0YWcgdGhhdCBJIGNyZWF0ZWQgZWFybGllclxuICB9IGVsc2Uge1xuICAgIGR5bmFtaVRhZy5jbGFzc05hbWUgPSBcInRhc2tfX29uZS1pdGVtXCI7Ly9naXZlcyBhIGNsYXNzIG9mIHRhZyB0aGF0IEkgY3JlYXRlZCBlYXJsaWVyXG4gIH1cblxuICBzdHJpbmdXcml0ZVRhc2sgPSBzdHJpbmdXcml0ZVRhc2sgKyBteUxpc3RUYXNrW2tleV0uaXRlbVRhc2s7Ly9pcyBhc3NpZ25lZCB0aGUgdGFzayB0ZXh0IGZyb20gdGhlIGFycmF5IG9mIG5lc3RlZCBvYmplY3RzIGluIHRoZSBteUxpc3RUYXNrIGFycmF5XG5cbiAgZHluYW1pVGV4dFNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyaW5nV3JpdGVUYXNrKSk7Ly9pbnNlcnRzIHRleHQgZnJvbSBpbnB1dCB0byBzcGFuXG5cbiAgZHluYW1pVGFnLmFwcGVuZENoaWxkKGR5bmFtaVRleHRTcGFuKTtcblxuICB2YXIgdGFza0R5bmFtaWNMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tfX2xpc3QnKTsvL2ZpbmRzIGEgcGxhY2Ugd2hlcmUgaXQgd2lsbCBiZSBuZWNlc3NhcnkgaW4gdGhlIGZ1dHVyZSB0byBkZWR1Y2UgdGFza3NcblxuICB0YXNrRHluYW1pY0xpc3QuYXBwZW5kQ2hpbGQoZHluYW1pVGFnKTsvL2Rpc3BsYXlzIHRhc2tzIGluIHRoZSB0YXNrIGxpc3Qgb24gcGFnZXNcblxufVxuXG4vKiBEZWxldGUgdGhlIHNlbGVjdGVkIHRhc2sgKi9cblxudmFyIHRhc2tEZWxldGVCID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tEZWxldGVCdXR0b24nKTtcblxudGFza0RlbGV0ZUIub25jbGljayA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgc2VsZWN0aW9u0KFoZWNrYm94VGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rhc2tfX29uZS1pdGVtLWNoZWNrYm94Jyk7Ly9yZWZlcnMgdG8gYW4gZWxlbWVudCBpbiBpdHMgY2xhc3NcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0aW9u0KFoZWNrYm94VGFzay5sZW5ndGg7IGkrKykgey8vdGhlIGxvb3AgaXMgZGVzaWduZWQgdG8gY3Jhd2wgdGhlIHJlc3VsdGluZyBhcnJheVxuXG4gICAgICBpZiAoc2VsZWN0aW9u0KFoZWNrYm94VGFza1tpXS5jaGVja2VkKSB7Ly9jaGVja3Mgd2hldGhlciB0aGUgY2hlY2tib3ggaXMgcHJlc3NlZFxuICAgICAgICB2YXIgcGFyZW50QWN0aXZl0KFoZWNrYm94ID0gc2VsZWN0aW9u0KFoZWNrYm94VGFza1tpXS5wYXJlbnROb2RlO1xuICAgICAgICBwYXJlbnRBY3RpdmXQoWhlY2tib3gucmVtb3ZlKCk7XG5cbiAgICAgICAgbXlMaXN0VGFzayA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3RvZG9UYXNrTGlzdCcpICk7Ly9jb252ZXJ0cyBhIHN0cmluZyBsb2NhdGVkIGluIGxvY2FsU3RvcmFnZSBpbnRvIGFuIGFycmF5IGFuZCBhc3NpZ25zIGl0cyBlbXB0eSBhcnJheVxuXG4gICAgICAgIG15TGlzdFRhc2suc3BsaWNlKGksIDEpOy8vcmVtb3ZlcyB0aGUgY2hlY2tib3ggdGFzayB0aGF0IHdhcyBjbGlja2VkXG5cbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9UYXNrTGlzdCcsIEpTT04uc3RyaW5naWZ5KG15TGlzdFRhc2spKTsvL2NvbnZlcnRzIHRoZSBhcnJheSBiYWNrIHRvIHRoZSBsaXN0IGFuZCByZXdyaXRlcyBpdCBpbiB0aGUgbG9jYWxTdG9yYWdlXG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgIH07XG5cbiAgICB9XG5cbn07XG5cbi8qIE1hcmtpbmcgY29tcGxldGVkIHRhc2sgc2VsZWN0ZWQgKi9cblxudmFyIG1hcmtDb21wbGV0ZWRUYXNrQiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXJrQ29tcGxldGVkVGFzaycpO1xuXG5tYXJrQ29tcGxldGVkVGFza0Iub25jbGljayA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgc2VsZWN0aW9u0KFoZWNrYm94VGFzayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3Rhc2tfX29uZS1pdGVtLWNoZWNrYm94Jyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3Rpb27QoWhlY2tib3hUYXNrLmxlbmd0aDsgaSsrKSB7Ly90aGUgbG9vcCBpcyBkZXNpZ25lZCB0byBjcmF3bCB0aGUgcmVzdWx0aW5nIGFycmF5XG5cbiAgICBpZiAoc2VsZWN0aW9u0KFoZWNrYm94VGFza1tpXS5jaGVja2VkKSB7Ly9jaGVja3Mgd2hldGhlciB0aGUgY2hlY2tib3ggaXMgcHJlc3NlZFxuXG4gICAgICB2YXIgcGFyZW50QWN0aXZl0KFoZWNrYm94ID0gc2VsZWN0aW9u0KFoZWNrYm94VGFza1tpXS5wYXJlbnROb2RlO1xuXG4gICAgICBwYXJlbnRBY3RpdmXQoWhlY2tib3guY2xhc3NMaXN0LmFkZChcInRhc2tfX29uZS1pdGVtLS1jb21wbGV0ZVwiKTsvL2FkZCBhbm90aGVyIGNsYXNzIHRvIHRoZSBzZWxlY3RlZCBpdGVtXG5cbiAgICAgIG15TGlzdFRhc2sgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2RvVGFza0xpc3QnKSApOy8vY29udmVydHMgYSBzdHJpbmcgbG9jYXRlZCBpbiBsb2NhbFN0b3JhZ2UgaW50byBhbiBhcnJheSBhbmQgYXNzaWducyBpdHMgZW1wdHkgYXJyYXlcblxuICAgICAgbXlMaXN0VGFza1tpXS5pdGVtU3RhdHVzID0gdHJ1ZTsvL2luc2VydHMgdGhlIGluaXRpYWwgZmFsc2Ugc3RhdHVzIGludG8gYSB0ZW1wb3Jhcnkgb2JqZWN0XG5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2RvVGFza0xpc3QnLCBKU09OLnN0cmluZ2lmeShteUxpc3RUYXNrKSk7Ly9jb252ZXJ0cyB0aGUgYXJyYXkgYmFjayB0byB0aGUgbGlzdCBhbmQgcmV3cml0ZXMgaXQgaW4gdGhlIGxvY2FsU3RvcmFnZVxuXG4gICAgfSBlbHNlIHtcblxuICAgIH07XG5cbiAgIH1cblxufTtcblxuLyogQ2xlYW5pbmcgdGhlIGRlc2lnbmF0aW9uIG9mIHRoZSBzZWxlY3RlZCB0YXNrICovXG5cbnZhciByZW1vdmVNYXJrQ29tcGxldGVkVGFza0IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFya05vdENvbXBsZXRlZFRhc2snKTtcblxucmVtb3ZlTWFya0NvbXBsZXRlZFRhc2tCLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgdmFyIHNlbGVjdGlvbtChaGVja2JveFRhc2sgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YXNrX19vbmUtaXRlbS1jaGVja2JveCcpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0aW9u0KFoZWNrYm94VGFzay5sZW5ndGg7IGkrKykgey8vdGhlIGxvb3AgaXMgZGVzaWduZWQgdG8gY3Jhd2wgdGhlIHJlc3VsdGluZyBhcnJheVxuXG4gICAgaWYgKHNlbGVjdGlvbtChaGVja2JveFRhc2tbaV0uY2hlY2tlZCkgey8vY2hlY2tzIHdoZXRoZXIgdGhlIGNoZWNrYm94IGlzIHByZXNzZWRcblxuICAgICAgdmFyIHBhcmVudEFjdGl2ZdChaGVja2JveCA9IHNlbGVjdGlvbtChaGVja2JveFRhc2tbaV0ucGFyZW50Tm9kZTtcblxuICAgICAgcGFyZW50QWN0aXZl0KFoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoXCJ0YXNrX19vbmUtaXRlbS0tY29tcGxldGVcIik7Ly9hZGQgYW5vdGhlciBjbGFzcyB0byB0aGUgc2VsZWN0ZWQgaXRlbVxuXG4gICAgICBteUxpc3RUYXNrID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb1Rhc2tMaXN0JykgKTsvL2NvbnZlcnRzIGEgc3RyaW5nIGxvY2F0ZWQgaW4gbG9jYWxTdG9yYWdlIGludG8gYW4gYXJyYXkgYW5kIGFzc2lnbnMgaXRzIGVtcHR5IGFycmF5XG5cbiAgICAgIG15TGlzdFRhc2tbaV0uaXRlbVN0YXR1cyA9IGZhbHNlOy8vaW5zZXJ0cyB0aGUgaW5pdGlhbCBmYWxzZSBzdGF0dXMgaW50byBhIHRlbXBvcmFyeSBvYmplY3RcblxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9UYXNrTGlzdCcsIEpTT04uc3RyaW5naWZ5KG15TGlzdFRhc2spKTsvL2NvbnZlcnRzIHRoZSBhcnJheSBiYWNrIHRvIHRoZSBsaXN0IGFuZCByZXdyaXRlcyBpdCBpbiB0aGUgbG9jYWxTdG9yYWdlXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgfTtcblxuICB9XG5cbn07XG5cbi8qIENvdW50aW5nIHRoZSBudW1iZXIgb2Ygc2VsZWN0ZWQgdGFza3MgKi9cblxudmFyIG51bWJlclNlbGVjdGVkVGFzayA9IDA7XG5cbnZhciBibG9ja1Rhc2tOdW1iZXJTZWxlY3RlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrX19udW1iZXItc2VsZWN0ZWQnKTtcblxuKGZ1bmN0aW9uICgpIHtcblxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZXZ0KSB7XG5cbiAgICB2YXIgZWwgPSBldnQudGFyZ2V0O1xuXG4gICAgdmFyIHZhbCA9IGVsLnZhbHVlfDA7IC8vIHRvIGludFxuXG4gICAgaWYgKGVsLmNoZWNrZWQpIHtcbiAgICAgIG51bWJlclNlbGVjdGVkVGFzayA9IG51bWJlclNlbGVjdGVkVGFzayArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIG51bWJlclNlbGVjdGVkVGFzayA9IG51bWJlclNlbGVjdGVkVGFzayAtIDE7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2cobnVtYmVyU2VsZWN0ZWRUYXNrKTtcblxuICAgIGJsb2NrVGFza051bWJlclNlbGVjdGVkLmlubmVySFRNTCA9IG51bWJlclNlbGVjdGVkVGFzaztcblxuICAgIHJldHVybiBudW1iZXJTZWxlY3RlZFRhc2s7XG5cbiAgfSwgZmFsc2UpO1xuXG4gIHJldHVybiBudW1iZXJTZWxlY3RlZFRhc2s7XG5cbn0pKCk7XG5cbmJsb2NrVGFza051bWJlclNlbGVjdGVkLmlubmVySFRNTCA9IG51bWJlclNlbGVjdGVkVGFzaztcblxuLyogY2xlYXIgbG9jYWxTdG9yYWdlICovXG5cbnZhciBjbGVhckxpc3RUYXNrQiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbGVhckxpc3RUYXNrJyk7XG5cbmNsZWFyTGlzdFRhc2tCLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XG5cbiAgbG9jYWxTdG9yYWdlLmNsZWFyKClcblxufTsiXX0=
